<div class="ten wide column">
  <%= render partial: "accounts/header" %>
  <br/>
  <%= simple_form_for @account do |f| %>
  <%= f.error_notification %>
  <div class="form-inputs">
    <div class="ui message">
      <h4>How do you want members to sign up?</h4>
      <p class="hint">Choose to make your team signup process invitation only, or allow anyone with a certain email address format to sign up.</p>
      <%= f.input :sign_up_mode, as: :select, collection: Account::SIGN_UP_MODES.map{|z| [z, z]}, label: false, include_blank: false %>
      <%= f.input :domain, placeholder: "E.g. google.com. Don't use common domains like gmail, outlook, yahoo, etc." %>
    </div>
    <br/>

    <div class="ui message">
      <h4>CDN Configuration</h4>
      <p class="hint">Configure your own CDN. Keep it blank to use default configurations.</p>
      <%= f.input :cdn_provider,as: :select, collection: ["CloudFront","Akamai"], include_blank: false %>
      <%= f.input :cdn_id, input_html: {value: @account.cdn_id == ENV['AWS_CDN_ID'] ? "" : @account.cdn_id}, label: "CDN Identifier", hint: "Keep blank if using cloudfront." %>
      <%= f.input :cdn_endpoint, as: :string, input_html: {value: @account.cdn_id == ENV['AWS_CDN_ID'] ? "" : @account.cdn_endpoint}, label: "CDN Endpoint" %>
      <%= f.input :host, input_html: {value: @account.cdn_id == ENV['AWS_CDN_ID'] ? "" : @account.host}, as: :string, label: "Invalidation URL" %>
      <%= f.input :client_token, input_html: {value: @account.cdn_id == ENV['AWS_CDN_ID'] ? "" : @account.client_token},hint: "Used as Aws Client Access ID for cloudfront."  %>
      <%= f.input :client_secret, input_html: {value: @account.cdn_id == ENV['AWS_CDN_ID'] ? "" : @account.client_secret}, hint: "Used as Aws Secret Access Key for cloudfront." %>
      <%= f.input :access_token, input_html: {value: @account.cdn_id == ENV['AWS_CDN_ID'] ? "" : @account.access_token}, hint: "Keep blank if using cloudfront." %>

    </div>
    <br/>


    <div class="ui message">
      <h4>Avatar</h4>
      <p class="hint">This works like a user icon. We use <a href="http://gravatar.com/" target="_blank">Gravatar.com</a> for display pictures. Register with Gravatar with an email ID, upload a square image there (Twitter DP) and enter that email ID below.</p>
      <%= f.input :gravatar_email, label: false %>
      <%= image_tag avatar_url(@account.gravatar_email, 200), class: "ui small circular image" %>
    </div>
    <div class="form-actions">
      <br/>
      <%= f.button :submit, class: "ui button" %>
    </div>
    <br/>
    <br/>


    <% if 1 == 2 %>
      <div class="ui message">
        <h4>Social</h4>
        <p class="hint">Access to your social media accounts will be used for helping you distribute content to these channels.</p>
        <table class="ui very basic table">
          <tr>
            <td style="color: gray;" class="collapsing">
              <i class='facebook f icon'></i>
              facebook.com/<u style="color: black;"><%= @fb_auth.present? ? @fb_auth.uid : "_____________" %></u>
            </td>
            <td style="float: right; width: 150px;">
              <% if @fb_auth.blank? %>
              <%= link_to "Integrate", oauth_path({provider: :facebook, account_id: @account.id, current_user_id: current_user.id }) %>
              <% else %>
                 <%= link_to "<i class='trash outline icon'></i>".html_safe, account_authentication_path(@account, @fb_auth), method: :delete, data: { confirm: 'Are you sure?' } %>
              <% end %>
            </td>
          </tr>
          <tr>
            <td style="color: gray;" class="collapsing">
              <i class='twitter icon'></i>
              twitter.com/<u style="color: black;"><%= @tw_auth.present? ? @tw_auth.uid : "_____________" %></u>
            </td>
            <td style="float: right; width: 150px;">
              <% if @tw_auth.blank? %>
              <%= link_to "Integrate", oauth_path({provider: :twitter, account_id: @account.id, current_user_id: current_user.id}) %>
              <% else %>
                 <%= link_to "<i class='trash outline icon'></i>".html_safe, account_authentication_path(@account, @tw_auth), method: :delete, data: { confirm: 'Are you sure?' } %>
              <% end %>
            </td>
          </tr>
          <tr>
            <% if Rails.env.development? %>
              <td style="color: gray;" class="collapsing">
                <i class='instagram icon'></i>
                instagram.com/<u style="color: black;"><%= @insta_auth.present? ? @insta_auth.uid : "_____________" %></u>
              </td>
              <td style="float: right; width: 150px;">
                <% if @insta_auth.blank? %>
                  <%= link_to "Integrate", oauth_path({provider: :instagram, account_id: @account.id, current_user_id: current_user.id}) %>
                <% else %>
                   <%= link_to "<i class='trash outline icon'></i>".html_safe, account_authentication_path(@account, @insta_auth), method: :delete, data: { confirm: 'Are you sure?' } %>
                <% end %>
              </td>
            <% end %>
          </tr>
        </table>
      </div>
    <% end %>
  </div>
  <% end %>
  <br/>
  <br/>
</div>